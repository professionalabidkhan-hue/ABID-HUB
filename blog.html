<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Blog — Abid Khan's E-Learning Hub</title>
  <link rel="stylesheet" href="styleblog.css">
</head>
<body>

  <!-- Navbar -->
  <header class="header">
    <nav class="nav">
      <button class="hamburger" id="hamburger">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <div class="nav-links" id="navLinks">
        <a href="index.html">Home</a>
        <a href="dashboard.html">Dashboard</a>
        <a href="courses.html">Courses</a>
        <a href="tutorials.html">Tutorials</a>
        <a href="cheatsheets.html">Cheat Sheets</a>
        <a href="projects.html">Projects</a>
        <a href="blog.html">Blog</a>
        <a href="contact.html">Contact</a>
        <button id="themeToggle" class="btn-toggle">Toggle</button>
      </div>
    </nav>
  </header>

  <main class="container">
    <h1 class="page-title">Latest Blog Posts</h1>

    <div class="controls">
      <input id="searchBox" class="input" type="search" placeholder="Search posts...">
      <select id="categoryFilter">
        <option value="all">All Categories</option>
      </select>
      <select id="sortBy">
        <option value="newest">Newest First</option>
        <option value="oldest">Oldest First</option>
      </select>
    </div>

    <!-- Featured -->
    <div id="featured" class="featured" style="display:none"></div>

    <!-- Grid -->
    <section id="gridWrap">
      <div id="postsGrid" class="grid"></div>
    </section>

    <!-- Pagination -->
    <div class="pagination" id="pagination"></div>
  </main>

  <!-- Footer -->
  <footer class="site-footer">
    © <span id="year"></span> Abid Khan — Abid Khan's E-Learning Hub • Built with GitHub Pages
  </footer>

  <!-- Blogger JSONP handler -->
  <script>
    function handleFeed(data) {
      const posts = data.feed.entry || [];
      const grid = document.getElementById("postsGrid");
      grid.innerHTML = "";

      if (posts.length === 0) {
        grid.innerHTML = "<p class='muted'>No posts found.</p>";
        return;
      }

      posts.forEach(post => {
        const title = post.title.$t;
        const link = post.link.find(l => l.rel === "alternate").href;
        const published = new Date(post.published.$t).toLocaleDateString();
        const summary = post.summary ? post.summary.$t : "";
        const thumb = post.media$thumbnail ? post.media$thumbnail.url : "";

        const html = `
          <article class="card">
            ${thumb ? `<img class="thumb" src="${thumb}" alt="${title}">` : ""}
            <div class="content">
              <h3><a href="${link}" target="_blank">${title}</a></h3>
              <small class="muted">${published}</small>
              <p>${summary}</p>
            </div>
          </article>
        `;
        grid.insertAdjacentHTML("beforeend", html);
      });

      // Update year in footer
      document.getElementById('year').textContent = new Date().getFullYear();
    }

    // Hamburger toggle
    const hamburger = document.getElementById('hamburger');
    const navLinks = document.getElementById('navLinks');
    hamburger.addEventListener('click', () => {
      navLinks.classList.toggle('show');
      hamburger.classList.toggle('open');
    });

    // Dark mode toggle
    document.getElementById('themeToggle').addEventListener('click', () => {
      document.body.classList.toggle('dark');
    });
  </script>

  <!-- Blogger JSONP feed -->
  <script src="https://abidkhanelearninghub.blogspot.com/feeds/posts/default?alt=json-in-script&callback=handleFeed"></script>
</body>
</html>
