<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AI Chat Agent - Abid Khan's E-Learning Hub</title>
  <script src="ai-agent.js" defer></script>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #f7fafc; display: flex; flex-direction: column; height: 100vh; }
    h2 { text-align: center; color: #0b63d3; padding: 10px 0; margin: 0; }
    
    .chat-container { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 10px; }
    .message { max-width: 70%; padding: 12px 16px; border-radius: 12px; word-wrap: break-word; }
    .user { align-self: flex-end; background: #0b63d3; color: white; border-bottom-right-radius: 0; }
    .ai { align-self: flex-start; background: #e5e7eb; color: #111827; border-bottom-left-radius: 0; }

    .input-container { display: flex; padding: 10px; border-top: 1px solid #ccc; background: white; }
    .input-container input { flex: 1; padding: 12px; border-radius: 8px; border: 1px solid #ccc; margin-right: 10px; }
    .input-container button { padding: 12px 20px; border: none; border-radius: 8px; background: #0b63d3; color: white; cursor: pointer; }

    /* Optional: Owner photo in corner */
    .owner-photo { position: fixed; bottom: 20px; right: 20px; width: 90px; height: 90px; border-radius: 50%; object-fit: cover; border: 3px solid white; box-shadow: 0 4px 12px rgba(0,0,0,0.2); }
  </style>
</head>
<body>

<h2>AI Chat Assistant</h2>

<div class="chat-container" id="chatContainer">
  <!-- Chat messages appear here -->
</div>

<div class="input-container">
  <input type="text" id="question" placeholder="Type your question here...">
  <button onclick="askAgent()">Send</button>
</div>

<!-- Optional: Your picture in corner -->
<img src="https://github.com/professionalabidkhan-hue/ABID-KHAN-/blob/main/ABID%20KHAN.png" class="owner-photo">

<script>
async function askAgent() {
  const input = document.getElementById("question");
  const message = input.value.trim();
  if (!message) return;

  // Add user message to chat
  addMessage(message, 'user');
  input.value = '';
  scrollToBottom();

  try {
    const response = await fetch("https://your-backend-url/api/agent", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ message: message })
    });

    const data = await response.json();
    addMessage(data.reply || "Sorry, no response from AI.", 'ai');
    scrollToBottom();

  } catch (error) {
    addMessage("Error connecting to AI. Try again.", 'ai');
  }
}

function addMessage(text, sender) {
  const chatContainer = document.getElementById("chatContainer");
  const div = document.createElement("div");
  div.className = `message ${sender}`;
  div.innerText = text;
  chatContainer.appendChild(div);
}

function scrollToBottom() {
  const chatContainer = document.getElementById("chatContainer");
  chatContainer.scrollTop = chatContainer.scrollHeight;
}
</script>

</body>
</html>
